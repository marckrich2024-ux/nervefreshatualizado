<!DOCTYPE html>
<html lang="en-US">

<head>
  <!-- Google Tag Manager -->
  <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-WLRLBSV9');</script>
  <!-- End Google Tag Manager -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Health Journal Daily - Review</title>
  <meta name="description" content="Complete review on Nerve Fresh and neuropathy relief." />


  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts: Inter, Roboto, and Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Roboto', 'Inter', 'sans-serif'], // Body font
            heading: ['Montserrat', 'sans-serif'], // Heading font
          },
          colors: {
            brand: {
              green: '#1E984E',
              darkGreen: '#167a3d',
              lightGreen: '#e6f4ea'
            },
            medical: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              500: '#0ea5e9',
              600: '#0284c7',
              700: '#0369a1',
              900: '#0c4a6e',
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  </style>

  <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/883/883360.png">
  <link rel="stylesheet" href="/index.css">
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLRLBSV9" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
  <script>
      < script >
      (function () {
        /**
         * Sovereign Tracking System - High Availability (v2)
         * Requirements: Immediate Capture, URL Param Persist (localStorage), Loop Injection (0s, 2s), Redundancy Check.
         */
        const STORAGE_KEY = 'ads_tracking_data';
        const TARGET_DOMAIN = 'secure.nervefresh.com';
        const TRACKING_PARAMS = ['gclid', 'wbraid', 'gbraid'];

        function safeGetStorage() {
          try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; } catch { return {}; }
        }

        function safeSetStorage(data) {
          try { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); } catch (e) { console.warn('Storage error', e); }
        }

        function captureAndSave() {
          const urlParams = new URLSearchParams(window.location.search);
          let storage = safeGetStorage();
          let updated = false;

          TRACKING_PARAMS.forEach(param => {
            const value = urlParams.get(param);
            if (value) {
              storage[param] = value;
              updated = true;
            }
          });

          if (updated) safeSetStorage(storage);
        }

        function injectTracking() {
          const data = safeGetStorage();
          if (Object.keys(data).length === 0) return;

          // Varredura de Links conforme solicitado
          const links = document.querySelectorAll(`a[href*="${TARGET_DOMAIN}"]`);

          links.forEach(link => {
            try {
              // Evitar re-processamento desnecessário, mas garantir que parametrização ocorra
              let href = link.href;
              const url = new URL(href, window.location.origin);
              let hasChanges = false;

              Object.entries(data).forEach(([key, value]) => {
                if (!url.searchParams.has(key)) {
                  url.searchParams.append(key, value);
                  hasChanges = true;
                }
              });

              if (hasChanges) {
                link.href = url.toString();
                // Log de Confirmação exato solicitado
                console.log('DOMÍNIO SOBERANO: Link atualizado com sucesso', link.href);
              }
            } catch (err) {
              console.error('Sovereign Error:', err);
            }
          });
        }

        // 1. Captura Imediata
        captureAndSave();

        // 2. Injeção Inicial
        injectTracking();

        // 3. Injeção em Loop (após 2 segundos) para garantir carregamento tardio
        setTimeout(injectTracking, 2000);

        // 4. MutationObserver para redundância (High Availability real)
        // Mantemos isso pois frameworks reativos podem recriar o DOM a qualquer momento, não só em 2s
        const observer = new MutationObserver((mutations) => {
          let shouldRun = false;
          for (let m of mutations) {
            if (m.addedNodes.length) { shouldRun = true; break; }
          }
          if (shouldRun) injectTracking();
        });
        observer.observe(document.body, { childList: true, subtree: true });

      })();
  </script>
</body>

</html>